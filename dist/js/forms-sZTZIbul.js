(function(){var d,m;const p=((d=window.hoplyticsApi)==null?void 0:d.restUrl)??"/wp-json/hoplytics/v1",S=((m=window.hoplyticsApi)==null?void 0:m.nonce)??"",u=async(t,n,r)=>{const e=t.querySelector('button[type="submit"]'),i=(e==null?void 0:e.textContent)??"Submit";e&&(e.disabled=!0,e.textContent="Sending...");const y=t.querySelector(".form-feedback");y&&y.remove();try{const a=await fetch(`${p}/${n}`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":S},body:JSON.stringify(r())}),f=await a.json(),l=a.ok&&f.success,c=document.createElement("div");c.className=`form-feedback ${l?"form-success":"form-error"}`,c.setAttribute("role","alert"),c.textContent=f.message||(l?"Submitted!":"Something went wrong."),t.appendChild(c),l&&t.reset()}catch{const a=document.createElement("div");a.className="form-feedback form-error",a.setAttribute("role","alert"),a.textContent="Network error. Please try again.",t.appendChild(a)}finally{e&&(e.disabled=!1,e.textContent=i)}},o=document.querySelector(".hero-application-form");o&&o.addEventListener("submit",t=>{t.preventDefault(),u(o,"lead",()=>{var n,r,e,i;return{name:((n=o.querySelector('[name="name"]'))==null?void 0:n.value)??"",email:((r=o.querySelector('[name="email"]'))==null?void 0:r.value)??"",website:((e=o.querySelector('[name="website_url"]'))==null?void 0:e.value)??"",budget:((i=o.querySelector('[name="ad_budget"]'))==null?void 0:i.value)??""}})});const s=document.querySelector(".seo-audit-form");s&&s.addEventListener("submit",t=>{t.preventDefault(),u(s,"seo-audit",()=>{var n,r;return{url:((n=s.querySelector('[name="audit_url"]'))==null?void 0:n.value)??"",email:((r=s.querySelector('[name="audit_email"]'))==null?void 0:r.value)??""}})})})();
//# sourceMappingURL=forms-sZTZIbul.js.map
