{"version":3,"file":"freeTools-9KfZNjRN.js","sources":["../../assets/js/free-tools.js"],"sourcesContent":["/**\n * Free Tools Frontend ‚Äî handles all tool UIs (audit, pixel check, SEO score).\n *\n * Uses fetch() to POST to REST API endpoints and renders results dynamically.\n *\n * @package Hoplytics\n */\n\n(function () {\n    'use strict';\n\n    const API_BASE = window.hoplyticsApi?.restUrl || '/wp-json/hoplytics/v1';\n    const NONCE = window.hoplyticsApi?.nonce || '';\n\n    // ‚îÄ‚îÄ‚îÄ Utility Functions ‚îÄ‚îÄ‚îÄ\n\n    function $(sel, ctx = document) { return ctx.querySelector(sel); }\n    function $$(sel, ctx = document) { return ctx.querySelectorAll(sel); }\n\n    function getGradeColor(grade) {\n        return { A: '#10B981', B: '#3B82F6', C: '#F59E0B', D: '#F97316', F: '#EF4444' }[grade] || '#6B7280';\n    }\n\n    function getStatusIcon(status) {\n        return { pass: '‚úÖ', warning: '‚ö†Ô∏è', critical: '‚ùå', info: '‚ÑπÔ∏è' }[status] || '‚Ä¢';\n    }\n\n    function animateCounter(el, target, duration = 1500) {\n        const start = 0;\n        const startTime = performance.now();\n        function update(currentTime) {\n            const elapsed = currentTime - startTime;\n            const progress = Math.min(elapsed / duration, 1);\n            const eased = 1 - Math.pow(1 - progress, 3);\n            el.textContent = Math.round(start + (target - start) * eased);\n            if (progress < 1) requestAnimationFrame(update);\n        }\n        requestAnimationFrame(update);\n    }\n\n    async function postTool(endpoint, url) {\n        const res = await fetch(`${API_BASE}/${endpoint}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-WP-Nonce': NONCE,\n            },\n            body: JSON.stringify({ url }),\n        });\n        return res.json();\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Website Audit Tool ‚îÄ‚îÄ‚îÄ\n\n    function initAuditTool(container) {\n        const form = $('form', container);\n        const input = $('input[name=\"url\"]', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const url = input.value.trim();\n            if (!url) return;\n\n            loading.hidden = false;\n            results.hidden = true;\n            results.innerHTML = '';\n\n            try {\n                const data = await postTool('audit', url);\n\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message}</div>`;\n                    results.hidden = false;\n                    loading.hidden = true;\n                    return;\n                }\n\n                results.innerHTML = renderAuditResults(data);\n                results.hidden = false;\n                loading.hidden = true;\n\n                // Animate the score counter\n                const scoreEl = $('.score-number', results);\n                if (scoreEl) animateCounter(scoreEl, data.score);\n\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error. Please try again.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderAuditResults(data) {\n        const gradeColor = getGradeColor(data.grade);\n\n        let checksHtml = data.checks.map(check => `\n\t\t\t<div class=\"check-item check-${check.status}\">\n\t\t\t\t<span class=\"check-icon\">${getStatusIcon(check.status)}</span>\n\t\t\t\t<div class=\"check-details\">\n\t\t\t\t\t<strong>${check.name}</strong>\n\t\t\t\t\t<span class=\"check-value\">${check.value}</span>\n\t\t\t\t\t${check.detail ? `<span class=\"check-detail\">${check.detail}</span>` : ''}\n\t\t\t\t\t${check.advice ? `<p class=\"check-advice\">${check.advice}</p>` : ''}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`).join('');\n\n        return `\n\t\t\t<div class=\"audit-score-card\">\n\t\t\t\t<div class=\"score-circle\" style=\"--score-color: ${gradeColor}\">\n\t\t\t\t\t<span class=\"score-number\">0</span>\n\t\t\t\t\t<span class=\"score-label\">/100</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"score-grade\" style=\"color: ${gradeColor}\">Grade: ${data.grade}</div>\n\t\t\t\t<div class=\"score-summary\">\n\t\t\t\t\t<span class=\"summary-critical\">${data.summary.critical} Critical</span>\n\t\t\t\t\t<span class=\"summary-warning\">${data.summary.warnings} Warnings</span>\n\t\t\t\t\t<span class=\"summary-pass\">${data.summary.passed} Passed</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"audit-checks\">${checksHtml}</div>\n\t\t\t<div class=\"audit-cta\">\n\t\t\t\t<p>Want a professional to fix these issues?</p>\n\t\t\t\t<a href=\"/get-started\" class=\"btn btn-primary\">Get Expert Help ‚Üí</a>\n\t\t\t</div>\n\t\t`;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Pixel Checker Tool ‚îÄ‚îÄ‚îÄ\n\n    function initPixelChecker(container) {\n        const form = $('form', container);\n        const input = $('input[name=\"url\"]', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const url = input.value.trim();\n            if (!url) return;\n\n            loading.hidden = false;\n            results.hidden = true;\n\n            try {\n                const data = await postTool('pixel-check', url);\n\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message}</div>`;\n                    results.hidden = false;\n                    loading.hidden = true;\n                    return;\n                }\n\n                results.innerHTML = renderPixelResults(data);\n                results.hidden = false;\n                loading.hidden = true;\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error. Please try again.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderPixelResults(data) {\n        const detectedHtml = data.detected.map(t => `\n\t\t\t<div class=\"tracker-item tracker-found\">\n\t\t\t\t<span class=\"tracker-icon\">${t.icon}</span>\n\t\t\t\t<div class=\"tracker-info\">\n\t\t\t\t\t<strong>${t.name}</strong>\n\t\t\t\t\t${t.id ? `<code class=\"tracker-id\">${t.id}</code>` : ''}\n\t\t\t\t</div>\n\t\t\t\t<span class=\"tracker-badge badge-found\">‚úÖ Found</span>\n\t\t\t</div>\n\t\t`).join('');\n\n        const missingHtml = data.missing.map(t => `\n\t\t\t<div class=\"tracker-item tracker-missing\">\n\t\t\t\t<span class=\"tracker-icon\">${t.icon}</span>\n\t\t\t\t<div class=\"tracker-info\">\n\t\t\t\t\t<strong>${t.name}</strong>\n\t\t\t\t\t${t.guide_url ? `<a href=\"${t.guide_url}\" class=\"tracker-guide\">${t.guide_text}</a>` : ''}\n\t\t\t\t</div>\n\t\t\t\t<span class=\"tracker-badge badge-missing\">‚ùå Not Found</span>\n\t\t\t</div>\n\t\t`).join('');\n\n        const recsHtml = data.recommendations.length\n            ? `<div class=\"pixel-recommendations\">\n\t\t\t\t<h4>üí° Recommendations</h4>\n\t\t\t\t<ul>${data.recommendations.map(r => `<li>${r}</li>`).join('')}</ul>\n\t\t\t</div>`\n            : '';\n\n        return `\n\t\t\t<div class=\"pixel-summary\">\n\t\t\t\t<div class=\"pixel-stat pixel-found\">\n\t\t\t\t\t<span class=\"stat-number\">${data.total_detected}</span>\n\t\t\t\t\t<span class=\"stat-label\">Detected</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pixel-stat pixel-missing\">\n\t\t\t\t\t<span class=\"stat-number\">${data.total_missing}</span>\n\t\t\t\t\t<span class=\"stat-label\">Missing</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t${detectedHtml ? `<h4>Tracking Pixels Found</h4>${detectedHtml}` : ''}\n\t\t\t${missingHtml ? `<h4>Not Detected</h4>${missingHtml}` : ''}\n\t\t\t${recsHtml}\n\t\t\t<div class=\"audit-cta\">\n\t\t\t\t<p>Need help setting up tracking?</p>\n\t\t\t\t<a href=\"/get-started\" class=\"btn btn-primary\">Get Expert Setup ‚Üí</a>\n\t\t\t</div>\n\t\t`;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ SEO Score Tool ‚îÄ‚îÄ‚îÄ\n\n    function initSeoScore(container) {\n        const form = $('form', container);\n        const input = $('input[name=\"url\"]', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const url = input.value.trim();\n            if (!url) return;\n\n            loading.hidden = false;\n            results.hidden = true;\n\n            try {\n                const data = await postTool('seo-score', url);\n\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message}</div>`;\n                    results.hidden = false;\n                    loading.hidden = true;\n                    return;\n                }\n\n                results.innerHTML = renderSeoResults(data);\n                results.hidden = false;\n                loading.hidden = true;\n\n                const scoreEl = $('.score-number', results);\n                if (scoreEl) animateCounter(scoreEl, data.score);\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderSeoResults(data) {\n        const gradeColor = getGradeColor(data.grade);\n\n        const itemsHtml = data.items.map(item => {\n            const pct = item.max > 0 ? Math.round((item.score / item.max) * 100) : 0;\n            const status = pct >= 80 ? 'pass' : (pct >= 50 ? 'warning' : 'critical');\n            return `\n\t\t\t\t<div class=\"seo-item seo-${status}\">\n\t\t\t\t\t<div class=\"seo-item-header\">\n\t\t\t\t\t\t<span>${getStatusIcon(status)} <strong>${item.factor}</strong></span>\n\t\t\t\t\t\t<span class=\"seo-item-score\">${item.score}/${item.max}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"seo-item-bar\">\n\t\t\t\t\t\t<div class=\"seo-item-fill\" style=\"width: ${pct}%; background: ${getGradeColor(pct >= 80 ? 'A' : (pct >= 50 ? 'C' : 'F'))}\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"seo-item-detail\">\n\t\t\t\t\t\t<span>Current: ${item.current}</span>\n\t\t\t\t\t\t<span>Ideal: ${item.ideal}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n        }).join('');\n\n        return `\n\t\t\t<div class=\"audit-score-card\">\n\t\t\t\t<div class=\"score-circle\" style=\"--score-color: ${gradeColor}\">\n\t\t\t\t\t<span class=\"score-number\">0</span>\n\t\t\t\t\t<span class=\"score-label\">/100</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"score-grade\" style=\"color: ${gradeColor}\">SEO Grade: ${data.grade}</div>\n\t\t\t\t<p class=\"score-words\">${data.word_count.toLocaleString()} words analyzed</p>\n\t\t\t</div>\n\t\t\t<div class=\"seo-items\">${itemsHtml}</div>\n\t\t\t<div class=\"audit-cta\">\n\t\t\t\t<p>Want us to optimize your site's SEO?</p>\n\t\t\t\t<a href=\"/get-started\" class=\"btn btn-primary\">Get a Free SEO Consultation ‚Üí</a>\n\t\t\t</div>\n\t\t`;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Speed Check Tool ‚îÄ‚îÄ‚îÄ\n\n    function initSpeedCheck(container) {\n        const form = $('form', container);\n        const input = $('input[name=\"url\"]', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const url = input.value.trim();\n            if (!url) return;\n\n            loading.hidden = false;\n            results.hidden = true;\n\n            try {\n                const data = await postTool('speed-check', url);\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message}</div>`;\n                } else {\n                    results.innerHTML = renderSpeedResults(data);\n                    const scoreEl = $('.score-number', results);\n                    if (scoreEl) animateCounter(scoreEl, data.score);\n                }\n                results.hidden = false;\n                loading.hidden = true;\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderSpeedResults(data) {\n        const gradeColor = getGradeColor(data.grade);\n        const checksHtml = data.checks.map(c => `\n            <div class=\"check-item check-${c.status}\">\n                <span class=\"check-icon\">${getStatusIcon(c.status)}</span>\n                <div class=\"check-details\">\n                    <strong>${c.name}</strong>\n                    <span class=\"check-value\">${c.value} <small style=\"color:#9CA3AF\">(ideal: ${c.ideal})</small></span>\n                    ${c.advice ? `<p class=\"check-advice\">${c.advice}</p>` : ''}\n                </div>\n            </div>\n        `).join('');\n\n        return `\n            <div class=\"audit-score-card\">\n                <div class=\"score-circle\" style=\"--score-color: ${gradeColor}\">\n                    <span class=\"score-number\">0</span>\n                    <span class=\"score-label\">/100</span>\n                </div>\n                <div class=\"score-grade\" style=\"color: ${gradeColor}\">${data.emoji} ${data.label}</div>\n                <div class=\"score-summary\">\n                    <span>‚è± ${data.load_time}s</span>\n                    <span>üì¶ ${data.page_size} KB</span>\n                    <span>üìÅ ${data.resources.total} resources</span>\n                </div>\n            </div>\n            <div class=\"audit-checks\">${checksHtml}</div>\n            <div class=\"audit-cta\">\n                <p>Want sub-2-second load times?</p>\n                <a href=\"/services/web-development\" class=\"btn btn-primary\">Our Speed Optimization Service ‚Üí</a>\n            </div>\n        `;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Social Check Tool ‚îÄ‚îÄ‚îÄ\n\n    function initSocialCheck(container) {\n        const form = $('form', container);\n        const input = $('input[name=\"url\"]', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const url = input.value.trim();\n            if (!url) return;\n\n            loading.hidden = false;\n            results.hidden = true;\n\n            try {\n                const data = await postTool('social-check', url);\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message}</div>`;\n                } else {\n                    results.innerHTML = renderSocialResults(data);\n                }\n                results.hidden = false;\n                loading.hidden = true;\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderSocialResults(data) {\n        const foundHtml = data.found.map(p => `\n            <div class=\"tracker-item tracker-found\">\n                <span class=\"tracker-icon\">${p.icon}</span>\n                <div class=\"tracker-info\">\n                    <strong>${p.name}</strong>\n                    ${p.url ? `<a href=\"${p.url}\" target=\"_blank\" class=\"tracker-guide\">${p.url}</a>` : ''}\n                </div>\n                <span class=\"tracker-badge badge-found\">‚úÖ Linked</span>\n            </div>\n        `).join('');\n\n        const missingHtml = data.missing.map(p => `\n            <div class=\"tracker-item tracker-missing\">\n                <span class=\"tracker-icon\">${p.icon}</span>\n                <div class=\"tracker-info\"><strong>${p.name}</strong></div>\n                <span class=\"tracker-badge badge-missing\">‚ùå Not Found</span>\n            </div>\n        `).join('');\n\n        const extrasHtml = data.extras.map(e => `\n            <div class=\"tracker-item ${e.found ? 'tracker-found' : 'tracker-missing'}\">\n                <span class=\"tracker-icon\">${e.icon}</span>\n                <div class=\"tracker-info\"><strong>${e.name}</strong></div>\n                <span class=\"tracker-badge ${e.found ? 'badge-found' : 'badge-missing'}\">${e.found ? '‚úÖ' : '‚ùå'}</span>\n            </div>\n        `).join('');\n\n        const recsHtml = data.recommendations.length\n            ? `<div class=\"pixel-recommendations\"><h4>üí° Recommendations</h4><ul>${data.recommendations.map(r => `<li>${r}</li>`).join('')}</ul></div>`\n            : '';\n\n        return `\n            <div class=\"pixel-summary\">\n                <div class=\"pixel-stat pixel-found\">\n                    <span class=\"stat-number\">${data.platforms_found}</span>\n                    <span class=\"stat-label\">Platforms Found</span>\n                </div>\n                <div class=\"pixel-stat pixel-missing\">\n                    <span class=\"stat-number\">${data.platforms_missing}</span>\n                    <span class=\"stat-label\">Missing</span>\n                </div>\n            </div>\n            ${foundHtml ? `<h4>Social Profiles Found</h4>${foundHtml}` : ''}\n            ${missingHtml ? `<h4>Not Detected</h4>${missingHtml}` : ''}\n            ${extrasHtml ? `<h4>Content Marketing Signals</h4>${extrasHtml}` : ''}\n            ${recsHtml}\n            <div class=\"audit-cta\">\n                <p>Need help building your social presence?</p>\n                <a href=\"/services/social-media-marketing\" class=\"btn btn-primary\">Social Media Services ‚Üí</a>\n            </div>\n        `;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ ROI Calculator Tool ‚îÄ‚îÄ‚îÄ\n\n    function initRoiCalculator(container) {\n        const form = $('form', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            loading.hidden = false;\n            results.hidden = true;\n\n            const formData = Object.fromEntries(new FormData(form));\n            const payload = {\n                monthly_spend: parseFloat(formData.monthly_spend) || 0,\n                monthly_revenue: parseFloat(formData.monthly_revenue) || 0,\n                conversion_rate: parseFloat(formData.conversion_rate) || 2.5,\n                avg_deal_value: parseFloat(formData.avg_deal_value) || 500,\n                monthly_traffic: parseInt(formData.monthly_traffic) || 1000,\n                industry: formData.industry || 'general',\n            };\n\n            try {\n                const res = await fetch(`${API_BASE}/roi-calculator`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json', 'X-WP-Nonce': NONCE },\n                    body: JSON.stringify(payload),\n                });\n                const data = await res.json();\n\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message || 'Error'}</div>`;\n                } else {\n                    results.innerHTML = renderRoiResults(data);\n                }\n                results.hidden = false;\n                loading.hidden = true;\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderRoiResults(data) {\n        const fmt = n => '$' + Number(n).toLocaleString();\n        const c = data.current;\n        const p = data.projected;\n\n        const insightsHtml = data.insights.map(i => `<li>${i}</li>`).join('');\n\n        return `\n            <div class=\"pixel-summary\" style=\"margin-bottom:1.5rem\">\n                <div class=\"pixel-stat pixel-found\">\n                    <span class=\"stat-number\">${c.roas}x</span>\n                    <span class=\"stat-label\">Current ROAS</span>\n                </div>\n                <div class=\"pixel-stat\" style=\"background:linear-gradient(135deg,rgba(16,185,129,0.15),rgba(59,130,246,0.15));border-color:#10B981\">\n                    <span class=\"stat-number\" style=\"color:#10B981\">${p.roas}x</span>\n                    <span class=\"stat-label\">Projected ROAS</span>\n                </div>\n            </div>\n            <div style=\"display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem\">\n                <div class=\"is-style-card\" style=\"padding:1.25rem;border-radius:12px\">\n                    <h4 style=\"margin:0 0 0.75rem;font-size:0.85rem;color:#9CA3AF;text-transform:uppercase\">Current</h4>\n                    <p>Revenue: <strong>${fmt(c.monthly_revenue)}/mo</strong></p>\n                    <p>Leads: <strong>${c.leads}/mo</strong></p>\n                    <p>CPA: <strong>${fmt(c.cpa)}</strong></p>\n                    <p>ROI: <strong>${c.roi_percent}%</strong></p>\n                </div>\n                <div class=\"is-style-card\" style=\"padding:1.25rem;border-radius:12px;border-color:#10B981\">\n                    <h4 style=\"margin:0 0 0.75rem;font-size:0.85rem;color:#10B981;text-transform:uppercase\">Projected</h4>\n                    <p>Revenue: <strong style=\"color:#10B981\">${fmt(p.monthly_revenue)}/mo</strong></p>\n                    <p>Leads: <strong style=\"color:#10B981\">${p.leads}/mo</strong></p>\n                    <p>CPA: <strong style=\"color:#10B981\">${fmt(p.cpa)}</strong></p>\n                    <p>ROI: <strong style=\"color:#10B981\">${p.roi_percent}%</strong></p>\n                </div>\n            </div>\n            <div class=\"is-style-card\" style=\"padding:1.25rem;border-radius:12px;text-align:center;margin-bottom:1.5rem\">\n                <p style=\"color:#9CA3AF;margin:0 0 0.25rem;font-size:0.85rem\">12-Month Revenue Gain</p>\n                <p style=\"font-size:2rem;font-weight:800;color:#10B981;margin:0\">${fmt(data.annual.gain)}</p>\n            </div>\n            ${insightsHtml ? `<div class=\"pixel-recommendations\"><h4>üìä Insights</h4><ul>${insightsHtml}</ul></div>` : ''}\n            <div class=\"audit-cta\">\n                <p>Want to achieve these numbers?</p>\n                <a href=\"/get-started\" class=\"btn btn-primary\">Book Your Strategy Call ‚Üí</a>\n            </div>\n        `;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Pricing Estimator Tool ‚îÄ‚îÄ‚îÄ\n\n    function initPricingEstimator(container) {\n        const form = $('form', container);\n        const results = $('.tool-results', container);\n        const loading = $('.tool-loading', container);\n\n        if (!form) return;\n\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            loading.hidden = false;\n            results.hidden = true;\n\n            const formData = new FormData(form);\n            const services = formData.getAll('services');\n            const payload = {\n                services,\n                business_size: formData.get('business_size') || 'small',\n                goals: formData.getAll('goals'),\n                timeline: formData.get('timeline') || 'standard',\n            };\n\n            try {\n                const res = await fetch(`${API_BASE}/pricing-estimate`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json', 'X-WP-Nonce': NONCE },\n                    body: JSON.stringify(payload),\n                });\n                const data = await res.json();\n\n                if (!data.success) {\n                    results.innerHTML = `<div class=\"tool-error\">${data.message || 'Error'}</div>`;\n                } else {\n                    results.innerHTML = renderPricingResults(data);\n                }\n                results.hidden = false;\n                loading.hidden = true;\n            } catch (err) {\n                results.innerHTML = '<div class=\"tool-error\">Network error.</div>';\n                results.hidden = false;\n                loading.hidden = true;\n            }\n        });\n    }\n\n    function renderPricingResults(data) {\n        const fmt = n => '$' + Number(n).toLocaleString();\n\n        const itemsHtml = data.line_items.map(item => `\n            <div class=\"tracker-item tracker-found\" style=\"padding:0.75rem 1rem\">\n                <span class=\"tracker-icon\">${item.icon}</span>\n                <div class=\"tracker-info\"><strong>${item.label}</strong></div>\n                <span style=\"font-weight:600;color:var(--color-text)\">${fmt(item.min)} ‚Äì ${fmt(item.max)}/mo</span>\n            </div>\n        `).join('');\n\n        const includedHtml = data.included.map(i => `<li>‚úÖ ${i}</li>`).join('');\n\n        return `\n            <div class=\"audit-score-card\" style=\"margin-bottom:1.5rem\">\n                <p style=\"color:#9CA3AF;margin:0 0 0.25rem;font-size:0.85rem;text-transform:uppercase\">Estimated Monthly Investment</p>\n                <div style=\"font-size:2rem;font-weight:800\">\n                    <span class=\"gradient-text\">${fmt(data.total_min)} ‚Äì ${fmt(data.total_max)}</span>\n                </div>\n                ${data.discount > 0 ? `<p style=\"color:#10B981;margin:0.5rem 0 0\">üéâ ${data.discount}% bundle discount applied!</p>` : ''}\n            </div>\n            <h4>Service Breakdown</h4>\n            ${itemsHtml}\n            <div class=\"pixel-recommendations\" style=\"margin-top:1.5rem\">\n                <h4>‚úÖ What's Included</h4>\n                <ul>${includedHtml}</ul>\n            </div>\n            <p style=\"color:#9CA3AF;font-size:0.85rem;font-style:italic;margin-top:1rem\">${data.note}</p>\n            <div class=\"audit-cta\">\n                <p>Ready for a custom proposal?</p>\n                <a href=\"${data.cta_url}\" class=\"btn btn-primary\">Book Your Free Strategy Call ‚Üí</a>\n            </div>\n        `;\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Email Gate Modal ‚îÄ‚îÄ‚îÄ\n\n    function showEmailGate(toolName, onSuccess) {\n        const existing = document.getElementById('hoplytics-email-gate');\n        if (existing) existing.remove();\n\n        const modal = document.createElement('div');\n        modal.id = 'hoplytics-email-gate';\n        modal.className = 'email-gate-overlay';\n        modal.innerHTML = `\n            <div class=\"email-gate-modal\">\n                <button class=\"email-gate-close\" aria-label=\"Close\">√ó</button>\n                <h3>üîí Unlock Your Full Report</h3>\n                <p>Enter your email to get the complete ${toolName} results + a PDF copy sent to your inbox.</p>\n                <form class=\"email-gate-form\">\n                    <input type=\"text\" name=\"name\" placeholder=\"Your name (optional)\" />\n                    <input type=\"email\" name=\"email\" required placeholder=\"your@email.com\" />\n                    <button type=\"submit\" class=\"btn btn-primary\" style=\"width:100%\">Unlock Full Report ‚Üí</button>\n                </form>\n                <p style=\"font-size:0.75rem;color:#6B7280;margin-top:0.75rem\">No spam. Unsubscribe anytime.</p>\n            </div>\n        `;\n\n        document.body.appendChild(modal);\n\n        modal.querySelector('.email-gate-close').addEventListener('click', () => modal.remove());\n        modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });\n\n        modal.querySelector('form').addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const email = modal.querySelector('input[name=\"email\"]').value;\n            const name = modal.querySelector('input[name=\"name\"]').value;\n\n            try {\n                await fetch(`${API_BASE}/lead/capture`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json', 'X-WP-Nonce': NONCE },\n                    body: JSON.stringify({ email, name, source: 'tool_gate', tool: toolName }),\n                });\n                modal.remove();\n                if (onSuccess) onSuccess();\n            } catch {\n                modal.remove();\n                if (onSuccess) onSuccess();\n            }\n        });\n    }\n\n    // ‚îÄ‚îÄ‚îÄ Initialize All Tools ‚îÄ‚îÄ‚îÄ\n\n    document.addEventListener('DOMContentLoaded', () => {\n        const tools = {\n            '#hoplytics-website-audit': initAuditTool,\n            '#hoplytics-pixel-checker': initPixelChecker,\n            '#hoplytics-seo-score': initSeoScore,\n            '#hoplytics-speed-check': initSpeedCheck,\n            '#hoplytics-social-check': initSocialCheck,\n            '#hoplytics-roi-calculator': initRoiCalculator,\n            '#hoplytics-pricing-estimator': initPricingEstimator,\n        };\n\n        Object.entries(tools).forEach(([sel, init]) => {\n            const el = $(sel);\n            if (el) init(el);\n        });\n    });\n})();\n"],"names":["_a","_b","API_BASE","NONCE","$","sel","ctx","getGradeColor","grade","getStatusIcon","status","animateCounter","el","target","duration","startTime","update","currentTime","elapsed","progress","eased","postTool","endpoint","url","initAuditTool","container","form","input","results","loading","e","data","renderAuditResults","scoreEl","gradeColor","checksHtml","check","initPixelChecker","renderPixelResults","detectedHtml","missingHtml","recsHtml","r","initSeoScore","renderSeoResults","itemsHtml","item","pct","initSpeedCheck","renderSpeedResults","c","initSocialCheck","renderSocialResults","foundHtml","p","extrasHtml","initRoiCalculator","formData","payload","renderRoiResults","fmt","n","insightsHtml","i","initPricingEstimator","renderPricingResults","includedHtml","init"],"mappings":"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"}